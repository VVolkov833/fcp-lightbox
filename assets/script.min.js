"use strict";(()=>{let a=document,e=a.querySelector("body"),b=window.fcp_lightbox,d=a.createElement("div");d.id="fcplb",d.style="display:none",e.prepend(d),h(k,"Close","close");let f=a.createElement("link");Object.assign(f,{rel:"stylesheet",id:"fcp-lightbox-css",type:"text/css",media:"all",href:b.path+"assets/style"+(b.dev?"":".min")+".css?"+b.ver}),e.append(f),a.querySelectorAll(b.selector).forEach(a=>{a.addEventListener("click",b=>{b.preventDefault(),c(a)})});let c=b=>{if(!b||!b.href)return;let f=d.querySelector("img");f&&f.remove();let c=a.createElement("img");return c.src=b.href,d.prepend(c),d.classList.add("fcplb-active"),e.style.overflow="hidden",e.style.setProperty("touch-action","none"),a.addEventListener("keydown",g),c};function k(){d.classList.remove("fcplb-active"),e.style.overflow=null,e.style.removeProperty("touch-action"),a.removeEventListener("keydown",g)}let g=a=>{"Escape"===a.code&&(a.preventDefault(),k())};function h(c,e="",f=""){let b=a.createElement("button");return b.title=l(e),b.type="button",b.className="fcplb-"+f,b.addEventListener("click",c),d.append(b),b}function l(a){return fcp_lightbox.translations[a]||a}function m(g){let c=g,f=[],d={},e={};for(;c.parentNode&&(c=f[0]&&c.parentNode||c)!==a;)if(f.unshift(c.tagName.toLowerCase()),d=h(c.previousElementSibling),e=h(c.nextElementSibling),d||e)return{prev:d,next:e};return!1;function h(a){if(null===a||a.tagName.toLowerCase()!==f[0])return!1;let d=f.slice(1).join(">"),c=d?a.querySelector(d):a;return!!c&&null!==c.parentNode.querySelector(b.selector)&&c}}let n=a.createElement("a"),i=h(p,"Previous","prev");i.show=t,i.hide=u;let j=h(q,"Next","next");j.show=t,j.hide=u;let o=c;function p(){r("prev")}function q(){r("next")}function r(a){let b=m(n);b[a]&&c(b[a])}function s(b){n=b,i.hide(),j.hide();let a=m(b);a&&a.prev&&i.show(),a&&a.next&&j.show()}function t(){this.classList.remove("hide")}function u(){this.classList.add("hide")}c=a=>(s(a),o(a));let v=g;g=a=>{v(a),"ArrowLeft"===a.code&&(a.preventDefault(),p()),"ArrowRight"===a.code&&(a.preventDefault(),q())};let w=c;c=b=>{let a=w(b);a.setAttribute("unselectable","on"),a.setAttribute("draggable","false");let c={touchstart:["touchmove","touchend"],mousedown:["mousemove","mouseup"]};for(let e in c)a.addEventListener(e,f,!1);function f(b){let f=c[b.type][0],g=c[b.type][1],i=l(b),j=new Date().getTime(),e=window;function h(f){let e=l(f),b=e.x-i.x,c=e.y-i.y;Math.abs(b)>Math.abs(c)?c=0:b=0,d.classList.remove("fcplb-swipe-return"),a.style="transform:translate("+b+"px,"+c+"px)"}function l(a){return a.changedTouches&&a.changedTouches[0]?{x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY}:"undefined"!==a.clientX?{x:a.clientX,y:a.clientY}:void 0}d.classList.add("fcplb-hide-loading"),e.addEventListener(f,h),e.addEventListener(g,function s(t){e.removeEventListener(f,h,!1),e.removeEventListener(g,s,!1);let u=new Date().getTime()-j,o=l(t),b=o.x-i.x,c=o.y-i.y,r=m(n);if(a.style="",u<400||Math.abs(b)>200||Math.abs(c)>200){if(Math.abs(b)>Math.abs(c)){if(b>0&&r.prev){setTimeout(p,200),a.className="fcplb-swipe-right",d.classList.remove("fcplb-hide-loading");return}if(b<0&&r.next){setTimeout(q,200),a.className="fcplb-swipe-left",d.classList.remove("fcplb-hide-loading");return}}else{if(c>0){a.className="fcplb-swipe-down",k();return}if(c<0){a.className="fcplb-swipe-up",k();return}}}d.classList.add("fcplb-swipe-return")})}}})()